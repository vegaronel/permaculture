<%- include("partials/AdminHeader.ejs") %>

<div class="container">
    <h4>Plant Collection</h4>
    <div class="table-responsive">
        <table class="display table mt-5">
        <thead>
            <tr>
                <th>Name</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <% plants.forEach(plant => { %>
            <tr>
                <td><%= plant.name %></td>
                <td><%= plant.harvestTime %></td>
                <td>
                    <img src="<%= plant.image %>" alt="<%= plant.name %>" width="100">
                </td>
                <td>
                    <a class="btn btn-warning btn-sm" href="/admin/plants/edit/<%= plant._id %>">Edit</a>
                    <form action="/admin/plants/delete/<%= plant._id %>" method="POST" style="display:inline;">
                        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                    </form>
                </td>
            </tr>
            <% }) %>
        </tbody>
        </table>
    </div>

    <h4>Add New Plant</h4>
    <form action="/add-plant" method="POST" enctype="multipart/form-data" class="mt-4">
        <div class="form-group">
            <label for="name">Plant Name:</label>
            <input type="text" class="form-control" id="name" name="name" required>
        </div>
        <div class="form-group">
            <label for="plantingInstructions">Planting Instructions:</label>
            <textarea class="form-control" id="plantingInstructions" name="plantingInstructions" rows="3" required></textarea>
        </div>
        <div class="form-group">
            <label for="harvestTime">Estimated Harvest Time:</label>
            <input type="number" class="form-control" id="harvestTime" name="harvestTime" required>
        </div>
        <div class="form-group">
            <label for="plantImage">Upload Plant Image:</label>
            <input type="file" class="form-control-file" id="plantImage" name="plantImage" accept="image/*" required>
        </div>
        <button type="submit" class="btn btn-primary">Add Plant</button>
    </form>
    
  
</div>

<%- include("partials/AdminFooter.ejs") %>
