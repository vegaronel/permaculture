<%- include("partials/LoginPageHeader.ejs") %>

<body>
    <style>
        @media (max-width: 1000px) {
            .register-container {
                display: none !important;
            }
        }

        .gray-text {
            color: #6B6B6B;
        }

        .reg-container {
            border-top-right-radius: 80px;
            border-bottom-right-radius: 80px;
        }
    </style>

    <section id="registration-section">
        <div class="container-fluid">
            <div class="row d-flex justify-content-center" style="min-height: 100vh;">
                <div class="col-6 p-0 m-0 d-flex flex-column justify-content-around register-container">
                    <div class="px-4">
                        <img class="mt-4" src="/images/project-seed-icon.svg" alt="">
                        <p class="h1 nexa-black text-white mt-3">Earth Care,<br> People Care,<br> and Fair Share.</p>
                    </div>
                    <div style="max-width: 800px; max-height: 500px;">
                        <img src="/images/register-icon.svg" alt="" style="width: 100%; background-size: contain;">
                    </div>
                </div>
                <div class="col-lg-6 col-sm-12 p-5 reg-container d-flex justify-content-center align-items-center"
                    style="background-color:#E2F0DF; border-top-left-radius: 80px; border-bottom-left-radius: 80px; ">
                    <div class="d-flex justify-content-center align-items-center flex-column" style="max-width:500px">
                        <div class="align-self-start">
                            <p class="nexa-black h2 gray-text">Create Account</p>
                            <p class="gray-text" style="max-width: 400px;">Logging in is the process of verifying your identity to access a website or app.</p>
                        </div>

                        <form id="registrationForm" class="needs-validation d-grid gap-3" action="/register" method="post"
                            enctype="multipart/form-data" novalidate>
                            <div class="row">
                                <div class="form-group col-6">
                                    <label for="firstName">First Name</label>
                                    <input type="text" class="form-control input-custom" name="firstname" placeholder="First Name" />
                                    <div class="invalid-feedback">Please provide a first name.</div>
                                </div>
                                <div class="form-group col-6">
                                    <label for="lastName">Last Name</label>
                                    <input type="text" class="form-control input-custom" name="lastname" placeholder="Last Name" />
                                    <div class="invalid-feedback">Please provide a last name.</div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-group col-lg-6">
                                    <label for="email">Email</label>
                                    <input type="email" class="form-control input-custom" name="email" id="email" placeholder="Email" />
                                    <div class="invalid-feedback m-0" id="emailFeedback">Please provide a valid email.</div>
                                    <div class="valid-feedback m-0" id="emailValid">Email is available!</div>
                                </div>
                                <div class="form-group m-0 col-lg-6 col-md-12">
                                    <label for="form-label" form="verificationCode">Send OTP</label>
                                    <div class="d-flex gap-2">
                                        <div style="width: 100%">
                                            <input type="number" class="form-control input-custom" name="verificationCode" id="verificationCode" placeholder="6 Digits OTP" min="0" />
                                        </div>
                                        <div>
                                            <button type="button" id="sendCodeBtn" class="btn otp-button">Send OTP</button>
                                        </div>
                                    </div>
                                    <p class="invalid-feedback m-0" id="otpFeedback">Invalid or expired verification code.</p>
                                    <div class="invalid-feedback m-0" id="emailRequired">Please enter your email address before sending OTP.</div>
                                </div>
                            </div>

                            <div class="form-group gap-3">
                                <label for="password">Password</label>
                                <input type="password" class="form-control input-custom" name="password" id="password" placeholder="Password" />
                                <div class="invalid-feedback">Please provide a password.</div>
                                <small class="form-text text-muted">Must be at least 8 characters long, contain letters, numbers, and special characters.</small>
                            </div>
                            <div class="form-group gap-3">
                                <label for="confirmPassword">Confirm Password</label>
                                <input type="password" class="form-control input-custom" name="confirmPassword" id="confirmPassword" placeholder="Confirm Password" />
                                <div class="invalid-feedback" id="passwordMismatchFeedback">Passwords do not match.</div>
                            </div>
                            <div class="form-check">
                              <input type="checkbox" class="form-check-input input-custom" id="agreeTerms" />
                              <label class="form-check-label" for="agreeTerms">
                                  <p class="terms">
                                      By creating an account you agree to our
                                      <span id="showTerms" style="cursor: pointer; color: blue;">Terms & Conditions.</span>
                                  </p>
                              </label>
                              <div class="invalid-feedback">You must agree to the terms and conditions.</div>
                          </div>

                            <div class="row">
                                <div class="form-group">
                                    <button type="submit" id="registerBtn" class="btn my-button mt-3" style="width: 100%">Create Account</button>
                                </div>
                                <div class="mt-3">
                                    <p class="text-center lighter-text">Already have an account? <a href="/login">Sign in</a></p>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
     <div class="modal-dialog modal-dialog-centered modal-lg">
         <div class="modal-content">
             <div class="modal-header">
                 <h5 class="modal-title" id="termsModalLabel">Terms and Conditions</h5>
                 <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
             </div>
             <div class="modal-body">
                    <div>
                        <p>Terms and Conditions for Project SEED: Permaculture Web App</p>

                        <p>Effective Date: October 19, 2024</p>
                        <p> Welcome to the Project SEED: Permaculture Web App (the "App"). By accessing or using the App, you agree to comply with these Terms and Conditions (the "Terms"). These Terms govern your use of the App, which is designed for residents of Brgy. Guinacutan, Vinzons, Camarines Norte, to help start and manage backyard permaculture projects. Please read these Terms carefully before using the App.
                        </p>
                        
                        <ol>
                            <li>Acceptance of Terms <br>
                                By registering or using the App, you agree to be bound by these Terms and any additional guidelines, rules, or policies that may be posted from time to time. If you do not agree with these Terms, you must not use the App.
                            </li>
                            <li>
                                Description of the App <br>
                                The app aims to create an interactive web app designed to help users learn and apply permaculture principles in their own backyards to further create a sustainable community. 
                                Users can access guides and tutorials on starting and maintaining a permaculture garden, add and manage plants in their personal garden space within the App, use plant detection features to identify plants., and participate in a community forum to share ideas, tips, and ask questions. Meanwhile, administrators can add new plant information to the system and manage user requests and moderate the community forum.        
                            </li>
                            <li>
                                User Accounts <br>
                                To access certain features of the App, you are required to register for an account. You are responsible for maintaining the confidentiality of your account information and password. You must notify the App administrators immediately if you believe your account has been compromised.
                            </li>
                            <li>
                                User-Submitted Content <br>
                                Users may add plant information and participate in the community forum. By submitting content (such as plant details, photos, or comments), you grant the App a non-exclusive, royalty-free license to use, modify, and display the content for the operation of the App. You are solely responsible for the content you submit, and it must not violate any laws, infringe on the rights of any third party, contain offensive or inappropriate material, and the App administrators reserve the right to remove any content that violates these Terms.
                            </li>
                            <li>
                                Plant Disease Detection <br>
                                The plant detection feature is a tool designed to help users identify plant disease. While the App strives for accuracy, it does not guarantee that all identifications will be correct. Use the feature as a guide, but always verify plant information through other trusted sources.
                            </li>
                            <li>
                                Community Forum <br>
                                The App offers a community forum where users can discuss topics related to backyard permaculture. By participating in the forum, you agree to be respectful of others, avoid spamming, trolling, or posting irrelevant content, follow the community guidelines provided by the administrators, and administrators have the right to moderate and remove posts that violate the rules.
                            </li>
                            <li>Admin Role<br>Administrators of the App have the ability to add new plant information to the system to help guide users, manage and review user requests for additional plant data or features, and moderate the community forum and user-submitted content to ensure compliance with these Terms.</li>
                            <li>Privacy<br>Your use of the App is subject to our Privacy Policy, which explains how we collect, use, and protect your personal information. By using the App, you consent to our data practices as outlined in the Privacy Policy.                            </li>
                            <li>Limitations of Liability<br>The App is provided "as is" and "as available." We do not guarantee that the App will be uninterrupted or error-free. The App and its administrators will not be liable for any direct, indirect, incidental, or consequential damages resulting from your use of the App or the inability to access the App.                            </li>
                            <li>Termination<br>We reserve the right to suspend or terminate your account or access to the App at our sole discretion, without notice, if we believe you have violated these Terms or engaged in any conduct that may harm the App or its users.</li>
                            <li>Changes to the Terms<br>We may update these Terms from time to time. You will be notified of any significant changes, and your continued use of the App after the changes are posted will constitute your acceptance of the new Terms.                            </li>
                            <li>Governing Law<br> Terms are governed by and construed in accordance with the laws of the Philippines. Any disputes arising from these Terms will be resolved in the courts of Camarines Norte.</li>
                            <li>Contact Information<br>For any questions regarding these Terms, please contact the App administrators at sevenjellyace@gmail.com.</li>
                        </ol>
                        By using the Project SEED: Permaculture Web App, you acknowledge that you have read, understood, and agreed to these Terms and Conditions.
                    </div>
             </div>
             <div class="modal-footer">
                 <button type="button" class="btn btn-danger" id="declineTerms">Decline</button>
                 <button type="button" class="btn btn-primary" id="acceptTerms">Accept</button>
             </div>
         </div>
     </div>
 </div>

 
</body>

<%- include("partials/LoginFooter.ejs") %>


<script>

$(document).ready(function() {
        const agreeTermsCheckbox = $("#agreeTerms");
        const registerBtn = $("#registerBtn");
        const termsModal = new bootstrap.Modal(document.getElementById("termsModal"));

        // Initially disable the register button
        registerBtn.prop('disabled', true);

        // Show modal when checkbox is checked
        agreeTermsCheckbox.change(function() {
            if (this.checked) {
                termsModal.show();
            } else {
                registerBtn.prop('disabled', true);
            }
        });

        // Handle "Show Terms" click
        $("#showTerms").click(function() {
            termsModal.show();
        });

        // Handle "Decline" button in modal
        $("#declineTerms").click(function() {
            agreeTermsCheckbox.prop('checked', false);
            registerBtn.prop('disabled', true);
            termsModal.hide();
        });

        // Handle "Accept" button in modal
        $("#acceptTerms").click(function() {
            agreeTermsCheckbox.prop('checked', true);
            registerBtn.prop('disabled', false);
            termsModal.hide();
        });
    });
</script>